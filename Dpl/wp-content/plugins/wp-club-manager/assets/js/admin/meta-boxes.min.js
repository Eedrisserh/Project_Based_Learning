jQuery(function(e){var t;jQuery("select.chosen_select").chosen({disable_search_threshold:10,width:"220px"}),jQuery("select.chosen_select_outcome").chosen({disable_search_threshold:10,width:"auto",placeholder_text_single:" "}),jQuery("select.chosen_select_dob").chosen({disable_search_threshold:32}),jQuery("select.chosen_select_nostd").chosen({allow_single_deselect:"true"}),jQuery("select.wpcm-chosen-multiple").chosen({width:"100%"}),jQuery("#input-order").length&&(jQuery("select.wpcm-chosen-multiple").on("change",function(e){var t=jQuery(this).get(0);setTimeout(function(){var e=ChosenOrder.getSelectionOrder(t);jQuery("#input-order").val(e).toString().split(",")})}),t=jQuery("select.wpcm-chosen-multiple").get(0),ChosenOrder.setSelectionOrder(t,jQuery("#input-order").val().split(","),!0)),jQuery(".wpcm_stats-tabs a").click(function(){var e=jQuery(this).attr("href");return jQuery(this).parent().addClass("tabs").siblings("li").removeClass("tabs"),jQuery(this).parent().parent().parent().find(".tabs-panel").hide(),jQuery(e).show(),!1}),jQuery(".type_box").appendTo("#wpclubmanager-player-stats .hndle"),jQuery(function(){jQuery("#wpclubmanager-player-stats").find(".hndle").unbind("click.postboxes"),jQuery("#wpclubmanager-player-stats").on("click",".hndle",function(e){jQuery(e.target).filter("input, option, label, select, .chosen-drop").length||jQuery("#wpclubmanager-player-stats").toggleClass("closed")})}),jQuery(document).on("change",".wpcm-player-season-select",function(){var e=jQuery(this).data("target"),t=jQuery("option:selected",this).data("show");jQuery(e).children().addClass("hidden"),jQuery(t).removeClass("hidden")}),jQuery(".wpcm-player-season-select").trigger("change"),jQuery("#wpclubmanager-match-result").on("change","#wpcm_played",function(){played=jQuery(this).prop("checked"),played?(jQuery("#wpclubmanager-match-report").show("fast"),jQuery("#wpclubmanager-match-result #results-table").show("fast")):(jQuery("#wpclubmanager-match-result #results-table").hide("fast"),jQuery("#wpclubmanager-match-report").hide("fast"))}),jQuery("#wpclubmanager-match-result #wpcm_played").change(),jQuery("#wpclubmanager-match-result").on("change","#wpcm_shootout",function(){shootout=jQuery(this).prop("checked"),shootout?jQuery("#wpclubmanager-match-result .wpcm-results-shootout").show("fast"):jQuery("#wpclubmanager-match-result .wpcm-results-shootout").hide("fast")}),jQuery("#wpclubmanager-match-result #wpcm_shootout").change(),jQuery("#wpclubmanager-match-result").on("change","#_wpcm_postponed",function(){postponed_result=jQuery("#_wpcm_postponed").prop("checked"),postponed_result?(jQuery(".wpcm-postponed-result").show("fast"),jQuery("#wpclubmanager-match-result #results-table").hide("fast")):jQuery(".wpcm-postponed-result").hide("fast")}),jQuery("#wpclubmanager-match-result #_wpcm_postponed").change(),jQuery('#wpcm_players table .names input[type="checkbox"]').on("change",function(){player_id=jQuery(this).attr("data-player"),jQuery(this).closest("tr").find('input[type="number"]').prop("disabled",!jQuery(this).prop("checked")),jQuery(this).closest("tr").find('input[data-card="yellow"], input[data-card="red"]').prop("disabled",!jQuery(this).prop("checked")),jQuery(this).closest("tr").find("select").prop("disabled",!jQuery(this).prop("checked")),jQuery(this).closest("tr").find('input[type="radio"]').prop("disabled",!jQuery(this).prop("checked"))}),jQuery('#wpcm_players table td.mvp input[type="radio"]').click(function(){jQuery('td.mvp input[type="radio"]').prop("checked",!1),jQuery(this).prop("checked",!0)}),jQuery('#wpcm_players table td.captain input[type="radio"]').click(function(){jQuery('td.captain input[type="radio"]').prop("checked",!1),jQuery(this).prop("checked",!0)}),updateCounter=function(){var e=jQuery("#wpcm_lineup input.player-select:checked").length,t=jQuery("#wpcm_subs input.player-select:checked").length;0<e?jQuery("#wpcm_lineup .counter").text(""+e):jQuery("#wpcm_lineup .counter").text("0"),0<t?jQuery("#wpcm_subs .counter").text(""+t):jQuery("#wpcm_subs .counter").text("0")},jQuery("#wpcm_lineup .counter, #wpcm_subs .counter").text(function(){updateCounter()}),jQuery("#wpcm_lineup input:checkbox, #wpcm_subs input:checkbox").on("change",function(){updateCounter()}),jQuery(".wpcm-table-add-row").click(function(){var e=jQuery("#wpcm-table-stats table th input.stats-rows").val(),t=jQuery("#id option:selected").text(),r='<tr class="count-row"><td><input type="checkbox" name="record"></td><td class="pos"></td><td><input type="hidden" name="wpcm_table_clubs[]" value="'+jQuery("#id option:selected").val()+'">'+t+'</td><td colspan="'+e+'"></td></tr>';jQuery("#wpcm-table-stats table tbody").append(r),jQuery("#wpcm-table-stats table tr.count-row").each(function(e){jQuery("td",this).eq(1).html(e+1)})}),jQuery(".wpcm-table-delete-row").click(function(){jQuery("#wpcm-table-stats table tbody").find('input[name="record"]').each(function(){jQuery(this).is(":checked")&&(jQuery(this).parents("tr").prev("tr").remove(),jQuery(this).parents("tr").next("tr").remove(),jQuery(this).parents("tr").remove())})}),jQuery("#wpcm-table-stats input").change(function(){index=jQuery(this).attr("data-index"),club=jQuery(this).closest("tr").attr("data-club"),value=0,jQuery(this).closest("table").find("tbody").each(function(){total=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-total input[data-index="'+index+'"]').val()),auto=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-auto input[data-index="'+index+'"]').val()),value=total-auto}),jQuery(this).closest("table").find('tr[data-club="'+club+'"] td.wpcm-table-stats-manual input[data-index="'+index+'"]').val(value)}),jQuery('#wpcm-table-stats input[data-index="f"],#wpcm-table-stats input[data-index="a"]').change(function(){club=jQuery(this).closest("tr").attr("data-club"),value=0,jQuery(this).closest("table").find("tbody").each(function(){f=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-total input[data-index="f"]').val()),a=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-total input[data-index="a"]').val()),value=jQuery("body").hasClass("footy")?f/a*100:f-a}),jQuery(this).closest("table").find('tr[data-club="'+club+'"] td.wpcm-table-stats-total input[data-index="gd"]').val(value),jQuery(this).closest("table").find("tbody").each(function(){total=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-total input[data-index="gd"]').val()),auto=parseInt(jQuery(this).find('tr[data-club="'+club+'"] td.wpcm-table-stats-auto input[data-index="gd"]').val()),manual=total-auto}),jQuery(this).closest("table").find('tr[data-club="'+club+'"] td.wpcm-table-stats-manual input[data-index="gd"]').val(manual)});var r=jQuery(".wpcm-sortable");r.sortable({cursor:"move",update:function(e,t){jQuery("#loading-animation").show(),opts={url:ajaxurl,type:"POST",async:!0,cache:!1,data:{action:"item_sort",order:r.sortable("toArray").toString()},dataType:"JSON",success:function(e){jQuery("#loading-animation").hide()},error:function(e,t,r){jQuery("#loading-animation").hide()}},jQuery.ajax(opts)}}),jQuery(".wpcm-player-roster-add-row").click(function(){var e=jQuery(".player-id option:selected").text(),t='<tr><td><input type="checkbox" name="record"></td><td><input type="hidden" name="wpcm_roster_players[]" value="'+jQuery(".player-id option:selected").val()+'">'+e+"</td></tr>";jQuery("#wpcm-player-roster-stats table tbody").append(t),jQuery(".wpcm-player-roster-delete-row").removeClass("hidden-button")}),jQuery(".wpcm-player-roster-delete-row").click(function(){jQuery("#wpcm-player-roster-stats table tbody").find('input[name="record"]').each(function(){jQuery(this).is(":checked")&&jQuery(this).parents("tr").remove()})}),jQuery(".wpcm-staff-roster-add-row").click(function(){var e=jQuery(".staff-id option:selected").text(),t='<tr><td><input type="checkbox" name="record"></td><td><input type="hidden" name="wpcm_roster_staff[]" value="'+jQuery(".staff-id option:selected").val()+'">'+e+"</td></tr>";jQuery("#wpcm-staff-roster-stats table tbody").append(t),jQuery(".wpcm-staff-roster-delete-row").removeClass("hidden-button")}),jQuery(".wpcm-staff-roster-delete-row").click(function(){jQuery("#wpcm-staff-roster-stats table tbody").find('input[name="record"]').each(function(){jQuery(this).is(":checked")&&jQuery(this).parents("tr").remove()})}),jQuery(".colorpick").iris({change:function(e,t){jQuery(this).parent().find(".colorpickpreview").css({backgroundColor:t.color.toString()})},hide:!0,border:!0}).click(function(){jQuery(".iris-picker").hide(),jQuery(this).closest("p").find(".iris-picker").show()}),jQuery("body").click(function(){jQuery(".iris-picker").hide()}),jQuery(".colorpick").click(function(e){e.stopPropagation()}),jQuery(".wpcm-add-video").click(function(){return jQuery(this).closest("fieldset").hide().siblings(".wpcm-video-field").show(),!1}),jQuery(".wpcm-remove-video").click(function(){return jQuery(this).closest("fieldset").hide().siblings(".wpcm-video-adder").show().siblings(".wpcm-video-field").find("input").val(null),!1}),e(document.body).on("wpcm-init-datepickers",function(){e(".wpcm-date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0}),e(".wpcm-birth-date-picker").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearRange:"-90:+0"})}).trigger("wpcm-init-datepickers"),e(".wpcm-time-picker").jquery_timepicker({timeFormat:"H:i",step:"15"}),e(document).ready(function(){e(".combify-input").combify()})});